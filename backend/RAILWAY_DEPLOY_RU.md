# üöÇ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ Railway

Railway ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º tier'–æ–º.

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª runtime.txt (—É–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Ä—Å–∏—é Python)

–í –ø–∞–ø–∫–µ `backend/`:

```
python-3.11
```

### 2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å requirements.txt

–ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ:

```bash
cd /Users/erboltalipov/myapps/ah/backend
pip freeze > requirements.txt
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ config.py –¥–ª—è PostgreSQL

Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç PostgreSQL –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –û–±–Ω–æ–≤–∏—Ç–µ `core/config.py`:

```python
# –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É PostgreSQL URL –∏–∑ Railway
import os

class Settings(BaseSettings):
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º DATABASE_URL –æ—Ç Railway –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—É—é SQLite
    database_url: str = os.getenv(
        "DATABASE_URL",
        "sqlite:///./database.db"
    )
```

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø—Ä–æ—â–µ –≤—Å–µ–≥–æ)

### 1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [railway.app](https://railway.app)

–ú–æ–∂–Ω–æ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ GitHub.

### 2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç

1. –ù–∞–∂–º–∏—Ç–µ **New Project**
2. –í—ã–±–µ—Ä–∏—Ç–µ **Deploy from GitHub repo**
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø—Ä–æ–µ–∫—Ç–æ–º
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

1. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —á—Ç–æ —ç—Ç–æ Python –ø—Ä–æ–µ–∫—Ç
2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É–∫–∞–∂–∏—Ç–µ:
   - **Root Directory**: `backend`
   - **Start Command**: `uvicorn main:app --host 0.0.0.0 --port $PORT`

### 4. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–∂–º–∏—Ç–µ **New** ‚Üí **Database** ‚Üí **Add PostgreSQL**
2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –ë–î –∏ –¥–æ–±–∞–≤–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`

### 5. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í —Ä–∞–∑–¥–µ–ª–µ **Variables** –¥–æ–±–∞–≤—å—Ç–µ:

```
SECRET_KEY=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞
DEBUG=False
CORS_ORIGINS=https://your-frontend.vercel.app,http://localhost:3000
```

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SECRET_KEY –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```bash
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

### 6. –î–µ–ø–ª–æ–π

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

### 7. –ü–æ–ª—É—á–∏—Ç–µ URL

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ URL —Ç–∏–ø–∞:
```
https://your-app.up.railway.app
```

–≠—Ç–æ—Ç URL –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ Vercel –∫–∞–∫ `API_BASE_URL`:
```
https://your-app.up.railway.app/api
```

---

## üöÇ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Railway CLI

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI

```bash
brew install railway
```

–ò–ª–∏:

```bash
npm install -g @railway/cli
```

### 2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç

```bash
railway login
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
cd /Users/erboltalipov/myapps/ah/backend
railway init
```

### 4. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL

```bash
railway add --plugin postgresql
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
railway variables set SECRET_KEY="–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á"
railway variables set DEBUG="False"
railway variables set CORS_ORIGINS="https://your-frontend.vercel.app"
```

### 6. –î–µ–ø–ª–æ–π

```bash
railway up
```

### 7. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
railway open
```

---

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–î–æ–±–∞–≤—å—Ç–µ –≤ `requirements.txt`:

```
# PostgreSQL –¥—Ä–∞–π–≤–µ—Ä
psycopg2-binary==2.9.9

# Production —Å–µ—Ä–≤–µ—Ä
uvicorn[standard]==0.27.0
gunicorn==21.2.0
```

---

## üìù –°–æ–∑–¥–∞–Ω–∏–µ Procfile (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `Procfile` –≤ –ø–∞–ø–∫–µ `backend/`:

```
web: uvicorn main:app --host 0.0.0.0 --port $PORT
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://your-app.up.railway.app/docs` ‚Äî –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/health` —ç–Ω–¥–ø–æ–∏–Ω—Ç
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Swagger

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ SQLite –∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ PostgreSQL:

### 1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ SQLite

```bash
sqlite3 database.db .dump > dump.sql
```

### 2. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è PostgreSQL

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `pgloader`:

```bash
brew install pgloader
pgloader database.db postgresql://user:pass@host:port/dbname
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏.

---

## üêõ –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –õ–æ–≥–∏ Railway

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

```bash
railway logs
```

–ò–ª–∏ –≤ web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤ —Ä–∞–∑–¥–µ–ª–µ **Deployments** ‚Üí **View Logs**

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
railway variables
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
railway connect postgresql
```

---

## üí∞ –¢–∞—Ä–∏—Ñ—ã Railway

**–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω:**
- $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –º–µ—Å—è—Ü (~500 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è development –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

**Hobby –ø–ª–∞–Ω** ($5/–º–µ—Å—è—Ü):
- $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤–∫–ª—é—á–µ–Ω–æ
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –ø–æ –º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Railway Docs](https://docs.railway.app/)
- [Railway Python Guide](https://docs.railway.app/guides/python)
- [Railway CLI](https://docs.railway.app/develop/cli)

---

## ‚ö°Ô∏è TLDR (–°–∞–º–æ–µ –∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ)

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ railway.app
# 2. New Project ‚Üí Deploy from GitHub
# 3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
# 4. Root Directory: backend
# 5. Add PostgreSQL
# 6. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (SECRET_KEY, CORS_ORIGINS)
# 7. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ Vercel
```

–ì–æ—Ç–æ–≤–æ! üéâ
